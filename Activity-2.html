<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Eyy</title>
  </head>
  <body>
    <div id="myApp"></div>

    <script>

      let data = {
        'firstname' :'',
        'lastname' :'',
        'email' :'',
        'password' :'',
      }
      // Create a container div for centering the input field
      let kini = document.getElementById("myApp"); // Select the existing 'myApp' div
      kini.style.display = "flex";
      kini.style.justifyContent ="center";
      kini.style.alignItems ="center";
      kini.style.height ="100vh";

      let sudlanan = document.createElement("div");
      sudlanan.style.display = "flex";
      sudlanan.style.alignItems = "center";
      sudlanan.style.justifyContent = "center";
      sudlanan.style.height = "500px";
      sudlanan.style.width = "800px";
      sudlanan.style.boxShadow = '0px 0px 10px rgba(0, 0, 0, 0.5)';
      sudlanan.style.borderRadius = '10px'

      let log = document.createElement('h1');
      log.style.marginBottom = '55px';
      log.style.textAlign = 'center';
      log.style.fontFamily = "Arial, sans-serif"

      let inputContainer = document.createElement("div");
      inputContainer.style.display = "flex";
      inputContainer.style.flexDirection = "column";
      inputContainer.style.marginBottom = "10px";

      let firstname = document.createElement("input");
      firstname.addEventListener("input", (event) => {
        data.firstname = event.target.value;
       
      });
      firstname.placeholder = "First name";
      firstname.style.padding = "10px";
      firstname.style.borderLeft = "none";
      firstname.style.borderRight = "none";
      firstname.style.borderTop = "none";
      firstname.style.borderBottom = "2px solid black";
      firstname.style.width = "100%";
      firstname.style.fontSize = "21px";

      let lastname = document.createElement("input");
      lastname.addEventListener("input", (event) => {
        data.lastname = event.target.value;
       
      });
      lastname.placeholder = "Last name";
      lastname.style.padding = "10px";
      lastname.style.borderLeft = "none";
      lastname.style.borderRight = "none";
      lastname.style.borderTop = "none";
      lastname.style.borderBottom = "2px solid black";
      lastname.style.width = "100%";
      lastname.style.fontSize = "21px";

      let email = document.createElement("input");
      email.addEventListener("input", (event) => {
        data.email = event.target.value;
       
      });
      email.type = "email";
      email.placeholder = "Emale";
      email.style.padding = "10px";
      email.style.borderLeft = "none";
      email.style.borderRight = "none";
      email.style.borderTop = "none";
      email.borderBottom = "5px solid black";
      email.style.width = "100%";
      email.style.fontSize = "21px";

      let errorPrompt = document.createElement("p");
      errorPrompt.style.color = "red";
      errorPrompt.style.fontSize = "15px";
      errorPrompt.style.textAlign = "left";
      errorPrompt.style.fontweight = "bold";

      let password= document.createElement("input");
      password.addEventListener("input", (event) => {
        data.password= event.target.value;
      
      });
      password.type = "password";
      password.placeholder = "Passweird";
      password.style.padding = "10px";
      password.style.borderLeft = "none";
      password.style.borderRight = "none";
      password.style.borderTop = "none";
      password.borderBottom = "5px solid black";
      password.style.width = "100%";
      password.style.fontSize = "21px";

      
      let cpassword= document.createElement("input");
      cpassword.type = "password";
      cpassword.placeholder = "Confirm Passweird";
      cpassword.style.padding = "10px";
      cpassword.style.borderLeft = "none";
      cpassword.style.borderRight = "none";
      cpassword.style.borderTop = "none";
      cpassword.borderBottom = "5px solid black";
      cpassword.style.width = "100%";
      cpassword.style.fontSize = "21px";

      let passwordStrength = document.createElement("p");
      passwordStrength.className = "password-strength";
      passwordStrength.style.color = "red";
      passwordStrength.style.fontSize = "15px";
      passwordStrength.style.textAlign = "left";

      let errorMessage = document.createElement("p");
    
      errorMessage.style.fontSize = "15px";
      errorMessage.style.textAlign = "center";

      let button = document.createElement("button");
      button.innerHTML = "Sign Up";
      button.style.padding = "20px"; 
      
      button.addEventListener("click",(event) =>{
        if(data.firstname === "" || data.lastname === "" || !email.value.match( /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)
        ||password.value !== cpassword.value)
        {
          errorMessage.innerText = "Invalid credentials";
          errorMessage.style.color = "red";
        }else{
          errorMessage.innerText ="hali bay";
          errorMessage.style.color = "green";
          console.log(data);
        }
      })

      email.addEventListener("input", (event) => {
        if (
          !event.target.value.match(
            /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
          )
        ) {
          errorPrompt.textContent = "Invalid email address";
        } else {
          errorPrompt.textContent = "";
        }
      });

      email.addEventListener("input", (event) => {
        if (event.target.value.trim() === "") {
          errorPrompt.textContent = "";
        }
      });

      password.addEventListener("input", (event) => {
        const password = event.target.value;
        var strengthMessage = checkPasswordStrength(password);
        passwordStrength.textContent = strengthMessage;
        passwordStrength.style.fontWeight = "bold";

        if (password === "") {
          passwordStrength.textContent = "";
        }
      });

      function checkPasswordStrength(password) {
        if (password.length < 8) {
          passwordStrength.style.color = "red";
          return "gamaya ana imo chuy uy";
        } else if (
          !/[a-z]/.test(password) ||
          !/[A-Z]/.test(password) ||
          !/\d/.test(password) ||
          !/[!@#$%^&*()_+{}\[\]:;<>,.?~\\-]/.test(password)
        ) {
          passwordStrength.style.color = "red";
          return "ipa gahi pa chuy";
        } else {
          passwordStrength.style.color = "green";
          return "";
        }
      }

      log.innerText = "Sulod Lang"

      inputContainer.append(log,firstname,lastname, email, errorPrompt, password, cpassword, passwordStrength, errorMessage, button);
      sudlanan.appendChild(inputContainer);
      kini.appendChild(sudlanan);
    </script>
  </body>
</html>
